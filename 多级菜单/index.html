<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			ul{
				list-style: none;				
			}
			h2{
				margin: 0;
				font-size: 16px;
				color: #0088A4;
			}
			li{
				margin-bottom: 10px;
			}
			.list ul{
				display: none;
			}
		</style>
	</head>
	<body>
		<ul class="list">
			<li>
				<h2>+第一级菜单</h2>
				<ul>
					<li>
						<h2>&nbsp;&nbsp;&nbsp;第二级菜单</h2>
					</li>
					<li>
						<h2>+第二级菜单</h2>
						<ul>
							<li>
								<h2>+第三级菜单</h2>
								<ul>
									<li>
										<h2>第四级菜单</h2>
									</li>
									<li>
										<h2>第四级菜单</h2>
									</li>
									<li>
										<h2>第四级菜单</h2>
									</li>
								</ul>
							</li>
							<li>
								<h2>&nbsp;&nbsp;&nbsp;第三级菜单</h2>
							</li>
						</ul>
					</li>
					<li>
						<h2>+第二级菜单</h2>
						<ul>
							<li>
								<h2>第三级菜单</h2>
							</li>
							<li>
								<h2>第三级菜单</h2>
							</li>
							<li>
								<h2>第三级菜单</h2>
							</li>
						</ul>
					</li>
				</ul>
			</li>
			<li>
				<h2>+第一级菜单</h2>
				<ul>
					<li>
						<h2>&nbsp;&nbsp;&nbsp;第二级菜单</h2>
					</li>
					<li>
						<h2>+第二级菜单</h2>
						<ul>
							<li>
								<h2>+第三级菜单</h2>
								<ul>
									<li>
										<h2>第四级菜单</h2>
									</li>
									<li>
										<h2>第四级菜单</h2>
									</li>
									<li>
										<h2>第四级菜单</h2>
									</li>
								</ul>
							</li>
							<li>
								<h2>&nbsp;&nbsp;&nbsp;第三级菜单</h2>
							</li>
						</ul>
					</li>
					<li>
						<h2>+第二级菜单</h2>
						<ul>
							<li>
								<h2>第三级菜单</h2>
							</li>
							<li>
								<h2>第三级菜单</h2>
							</li>
							<li>
								<h2>第三级菜单</h2>
							</li>
						</ul>
					</li>
				</ul>
			</li>
			<li>
				<h2>+第一级菜单</h2>
				<ul>
					<li>
						<h2>&nbsp;&nbsp;&nbsp;第二级菜单</h2>
					</li>
					<li>
						<h2>+第二级菜单</h2>
						<ul>
							<li>
								<h2>+第三级菜单</h2>
								<ul>
									<li>
										<h2>第四级菜单</h2>
									</li>
									<li>
										<h2>第四级菜单</h2>
									</li>
									<li>
										<h2>第四级菜单</h2>
									</li>
								</ul>
							</li>
							<li>
								<h2>&nbsp;&nbsp;&nbsp;第三级菜单</h2>
							</li>
						</ul>
					</li>
					<li>
						<h2>+第二级菜单</h2>
						<ul>
							<li>
								<h2>第三级菜单</h2>
							</li>
							<li>
								<h2>第三级菜单</h2>
							</li>
							<li>
								<h2>第三级菜单</h2>
							</li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>
		
		
		<script type="text/javascript">
			
			//获取元素
			var h2s = document.getElementsByTagName('h2');
			
			//循环h2
			for(var i=0;i<h2s.length;i++){
				//声明一个自定义开关
				h2s[i].onOff = true;
				//点击H2事件
				h2s[i].onclick = function(){
					//获取当前点击的父级的父级的所有ul
					var uls=this.parentNode.parentNode.getElementsByTagName('ul');					
					//判断如果有兄弟级的走里面的代码
					if(this.nextElementSibling){	
						//点击打开菜单再次点击隐藏菜单
						if(this.onOff){
							//循环当前点击的父级的父级下的ul来大清洗
							for(var i=0;i<uls.length;i++){		
								uls[i].style.display = 'none';
								//点击当前的h2的时候重置当前的开关
								uls[i].previousElementSibling.onOff = true;
								console.log(uls[i].previousElementSibling.onOff )
							}
							this.nextElementSibling.style.display = 'block';
						}else{
							
							this.nextElementSibling.style.display = 'none';
						}
						//自定义开关每点击一下开关自动取反
						this.onOff = !this.onOff;
					}
				}				
			}
			
			
		</script>
	</body>
</html>
