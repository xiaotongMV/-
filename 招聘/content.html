<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>招贤纳士-详细页面</title>
<link href="css/style.css" rel="stylesheet" type="text/css" />

</head>

<body>
  <div id="wrap">
  	<div class="left">
    	<h2>招贤纳士</h2>
      <ul>
      	<!--<li><a href="javascript:;">社会招聘</a></li>
      	<li><a href="javascript:;">校园招聘</a></li>-->
      </ul>
    </div>
  	<div class="right">
    	<div class="title">
      	<img src="img/shzp.gif" />
      </div>
      <div class="info content">
        <!--<h2>测试工程师【社会招聘】</h2>
        <div>
          <span class="l">招聘公司：北京智信创通信息技术有限公司查看公司地理位置>></span>
          <span>公司性质：股份制公司</span>
          <span class="l">职位性质：全职</span>
          <span>工作地点：上海</span>
          <span class="l">工作经验：3年以上</span>
          <span>学历要求：本科及以上</span>
          <span class="l">招聘人数：2人</span>
          <span>薪资待遇：面议</span>
          <span class="l">发布日期：2013-7-30</span>
          <span>招聘类型：社会招聘</span>
        </div>
        <div class="clear"></div>
        <dl>
          <dt>工作职责：</dt>
          <dd>从事计算机软件的测试工作。</dd>
        </dl>
        <dl>
          <dt>岗位要求：</dt>
          <dd>1.计算机或相关专业本科以上学历；</dd>
          <dd>2.从事软件测试工作3年及以上；</dd>
          <dd>3.具备良好的沟通能力和快速学习能力；</dd>
          <dd>4.精通测试策略和方法、测试用例设计；</dd>
          <dd>5.熟悉DB2、AIX等平台的基本操作；</dd>
          <dd>6.具备2年以上金融IT行业经验，特别是有金融行业相关业务的测试或者开发工作经验者优先。</dd>
        </dl>
        <p>有意者请投递简历至 liuyajuan@fulan.com.cn</p>-->
      </div>
    </div>
    <div class="clear"></div>
  </div>
<script src="js/data.js"></script>
<script>
	var ul = document.getElementsByTagName('ul')[0];
	var img = document.getElementsByTagName('img')[0];
	var content = document.getElementsByClassName('content')[0];
	var lis = ul.getElementsByTagName('li');
	//获取search,hash，得到数据
	var search = location.search.substr(1).split('=')[1];
	var hash = location.hash.substr(1).split('=')[1];
//	console.log(search,hash)
//要显示的数据
	var data = aData[search];
	img.src = data.img;
	//左侧li
	var str = '';
for(var i=0;i<aData.list.length;i++){
	str+='<li><a href="javascript:;">'+aData.list[i].text+'</a></li>';
}
ul.innerHTML = str;
	if(search=='sh'){
		lis[0].className = 'focus';
	}else{
		lis[1].className = 'focus';
	}
	//当前要显示的数据
	var arr = data.text[hash];
	//生成内容
	str = '';
	/*
	 	 zw : '测试工程师11【社会招聘】',
          jj : '#',
					gs : '北京智信创通信息技术有限公司',
					xz : '股份制公司',
					gz : '全职',
					dd : '上海',
					jy : '3年以上',
					xl : '本科及以上',
					rs : '3',
					dy : '面议',
					sj : [2013,07,12],
					lx : '社会招聘',
	 * */
	str = `<h2>${arr.zw}</h2>
        <div>
          <span class="l">招聘公司：${arr.gs}>></span>
          <span>公司性质：${arr.xz}</span>
          <span class="l">职位性质：${arr.gz}</span>
          <span>工作地点：${arr.dd}</span>
          <span class="l">工作经验：${arr.jy}</span>
          <span>学历要求：${arr.xl}</span>
          <span class="l">招聘人数：${arr.rs}人</span>
          <span>薪资待遇：${arr.dy}</span>
          <span class="l">发布日期：${aData.date(arr.sj,1)}</span>
          <span>招聘类型：${arr.lx}</span>
        </div>
        <div class="clear"></div>`;
        for(var i=0;i<arr.info.length;i++){
        	str += '<dl><dt>'+arr.info[i].t+'</dt>';
        	for(var j=0;j<arr.info[i].l.length;j++){
        		str += '<dd>'+arr.info[i].l[j]+'</dd>';
        	}
        	str +='</dl>';
        }
        str += '<p>'+aData.email+'</p>';
        content.innerHTML = str;
        
      //li点击回去
     for(var i=0;i<lis.length;i++){
			lis[i].lx = aData.list[i].lx;
			lis[i].onclick = function(){
				/*hash ->p
				 	0,1 ->1
				 	2,3 ->2
				 * */
				//如果和获取到的search相等，证明是从这个类型过来的
				if(this.lx==search){
					//通过hash(第几个数据)反推要回到第几页
					var m = Math.floor(hash/2)+1;
					location.href='list.html?l='+this.lx+'#p='+m;
				}else{
					location.href='list.html?l='+this.lx+'#p=1';
				}
			}
		}
        
</script>
</body>
</html>
